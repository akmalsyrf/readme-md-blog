---
interface Props {
  question: string;
  answer: string;
  explanation?: string;
  questionId: string;
}

const { question, answer, explanation, questionId } = Astro.props;
---

<div class="question-card">
  <div class="question-header">
    <span class="question-type-badge">Fill in the Blank</span>
    <p class="question-text">{question}</p>
  </div>
  <div class="question-input">
    <input
      type="text"
      placeholder="Masukkan jawaban Anda..."
      class="answer-input"
      data-answer={answer.toLowerCase().trim()}
      id={`fillblank-${questionId}`}
    />
  </div>
  {
    explanation && (
      <div class="explanation" data-answer={answer}>
        <strong>Jawaban yang benar:</strong> {answer}
        <br />
        <strong>Penjelasan:</strong> {explanation}
      </div>
    )
  }
</div>

<style>
  .question-card {
    @apply rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800;
    transition: all 0.2s;
  }

  .question-card:hover {
    @apply shadow-md;
  }

  .question-header {
    @apply mb-4;
  }

  .question-type-badge {
    @apply mb-2 inline-block rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700 dark:bg-blue-900 dark:text-blue-300;
  }

  .question-text {
    @apply text-lg font-medium text-gray-900 dark:text-gray-100;
  }

  .question-input {
    @apply mt-4;
  }

  .answer-input {
    @apply w-full rounded-lg border-2 border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-500;
  }

  .explanation {
    @apply mt-4 rounded-lg border-l-4 border-green-500 bg-green-50 p-4 text-sm text-gray-700 dark:border-green-400 dark:bg-green-900/20 dark:text-gray-300;
    display: none;
  }

  .explanation.show {
    display: block;
  }
</style>
