---
import type { Locale } from '../../../utils/i18n';
import DeepResearchChat from './DeepResearchChat.astro';

interface Props {
  locale: Locale;
  t: any;
  apiEndpoint?: string;
}

// Get API endpoint from env variable
const apiBaseUrl = (
  import.meta.env.API_DEEP_RESEARCH_BASE_URL ||
  process.env.API_DEEP_RESEARCH_BASE_URL ||
  ''
).trim();
const defaultApiEndpoint = apiBaseUrl
  ? `${apiBaseUrl}/research`
  : 'https://api-deep-research-backend.vercel.app/research';

const { locale, t, apiEndpoint = defaultApiEndpoint } = Astro.props;
---

<div class="space-y-6">
  <!-- Chat Interface -->
  <DeepResearchChat locale={locale} t={t} apiEndpoint={apiEndpoint} />
</div>
