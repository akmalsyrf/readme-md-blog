---
import MenuItemCard from './MenuItemCard.astro';
import { getLocalizedPath, type Locale } from '../../utils/i18n';

interface Props {
  locale: Locale;
  t: any;
}

const { locale, t } = Astro.props;

// Define menu items configuration
const menuItems = [
  {
    key: 'cheatSheet',
    path: '/cheatsheet',
    showBadge: false,
    external: false,
  },
  {
    key: 'deepResearchChatbot',
    path: '/deep-research-chat',
    showBadge: true,
    external: false,
  },
  {
    key: 'spineldb',
    path: 'https://github.com/spineldb/spineldb',
    showBadge: false,
    external: true,
  },
  {
    key: 'bahlilfication',
    path: 'https://bahlilfication.vercel.app/',
    showBadge: false,
    external: true,
  },
  {
    key: 'tensesDetector',
    path: '/tenses-detector',
    showBadge: false,
    external: false,
  },
  {
    key: 'compoundInterestCalculator',
    path: '/compound-interest-calculator',
    showBadge: false,
    external: false,
  },
  {
    key: 'portfolioBalancer',
    path: '/portfolio-balancer',
    showBadge: false,
    external: false,
  },
];
---

<div class="space-y-6">
  <!-- Menu Items -->
  <div class="grid gap-4 md:grid-cols-2">
    {
      menuItems.map((item) => {
        const menuItem = t.others.menuItems[item.key];
        if (!menuItem) return null;

        const href = item.external ? item.path : getLocalizedPath(item.path, locale);

        return (
          <MenuItemCard
            title={menuItem.title}
            description={menuItem.description}
            href={href}
            badgeText={item.showBadge ? t.others.experimental : undefined}
            actionText={t.others.tryNow}
            external={item.external}
          />
        );
      })
    }
  </div>
</div>
